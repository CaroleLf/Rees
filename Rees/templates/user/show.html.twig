{% extends 'base.html.twig' %}

{% block title %}User{% endblock %}
{% block stylesheets %}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
	<link rel="shortcut icon" href="img/logo.png" >
    <link href="{{ asset('/css/show.css') }}" type="text/css" rel="stylesheet">  
	<link rel="shortcut icon" href="img/logo.png" >
	<link href='https://css.gg/css' rel='stylesheet'>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
    <link href="{{ asset('/css/allSeries.css') }}" type="text/css" rel="stylesheet">  
    <link href="{{ asset('/css/paginationSeries.css') }}" type="text/css" rel="stylesheet">  
{% endblock %}
{% block body %}
 {{ parent()  }}
 <main class="d-flex flex-wrap" >
    <div class="info d-flex m-5 flex-column align-items-center" >
        <div class="LineOne d-flex flex-column flex-wrap mt-5  ">
            <h1 class="mt-5">{{ user.name }} </h1>  
            {% if user.registerDate  %}
                <h2>RegisterDate</h2>
                <h3>{{ user.registerDate ? user.registerDate|date('Y-m-d H:i:s') : '' }}</h3>
            {% endif %}
            {% if rates != null %}
                <h1>Ses commentaires</h1>
                <table class="table table-striped">
                    <thead class="thead-light ">
                        <tr class="border-0 ">
                            <th class="border-0 text-center">Serie</th>
                            <th class="border-0 text-center">Note</th>
                            <th class="border-0 text-center">Commentaire</th>
                            <th class="border-0 text-center">Date</th>
                        </tr>
                    </thead>
                    <tbody class="bg-transparent">
                        {% for rate in rates %}
                            <tr class="border-0 bg-transparent">
                                <td class="border-0 text-center">{{ rate.series }}</td>
                                <td class="border-0 text-center">{{ rate.value|number_format(1)}}</td>
                                <td class="border-0 text-center">{{ rate.comment }}</td>
                                <td class="border-0 text-center">{{ rate.date ? rate.date|date('Y-m-d H:i:s') : '' }}</td>            
                            </tr>
                        {% endfor %}
                        {{ knp_pagination_render(rates) }}
                    </tbody>
                </table>
                <form class="searchBar text-white d-flex flex-row align-items-center "  method="get" action="{{ path('app_user_show', {'id': user.id})}}">
                    <div class="d-flex flex-column align-items-center">
                        <label class="m-2 w-auto" >Trie :</label>
                        <select class="form-control m-2  w-auto" data-mdb-filter="true" name="rate">
                        <option value=> -- Note -- </option>
                        <option value="0"  >ğŸŒ‘ğŸŒ‘ğŸŒ‘ğŸŒ‘ğŸŒ‘</option>
                        <option value="0.5">ğŸŒ—ğŸŒ‘ğŸŒ‘ğŸŒ‘ğŸŒ‘</option>
                        <option value="1"  >ğŸŒ•ğŸŒ‘ğŸŒ‘ğŸŒ‘ğŸŒ‘</option>
                        <option value="1.5">ğŸŒ•ğŸŒ—ğŸŒ‘ğŸŒ‘ğŸŒ‘</option>
                        <option value="2"  >ğŸŒ•ğŸŒ•ğŸŒ‘ğŸŒ‘ğŸŒ‘</option>
                        <option value="2.5">ğŸŒ•ğŸŒ•ğŸŒ—ğŸŒ‘ğŸŒ‘</option>
                        <option value="3"  >ğŸŒ•ğŸŒ•ğŸŒ•ğŸŒ‘ğŸŒ‘</option>
                        <option value="3.5">ğŸŒ•ğŸŒ•ğŸŒ•ğŸŒ—ğŸŒ‘</option>
                        <option value="4"  >ğŸŒ•ğŸŒ•ğŸŒ•ğŸŒ•ğŸŒ‘</option>
                        <option value="4.5">ğŸŒ•ğŸŒ•ğŸŒ•ğŸŒ•ğŸŒ—</option>
                        <option value="5"  >ğŸŒ•ğŸŒ•ğŸŒ•ğŸŒ•ğŸŒ•</option>
                        </select>
                    </div>
                    <div class="d-flex flex-column align-items-end mt-4">
                        <button type="submit" class="btn btn-primary mt-3 ">Recherche</button>
                    </div>
                </form>
            {% endif %}
        </div>
    </div>
    {% if user.series != null %}
        <h1>Ses SÃ©ries</h1>
        <div id="series" class="work_container container grid " style="padding-top:10rem;"> 
            {% for serie in series %}
                <div class=" d-block p-2  text-white">
                    <td> 
                        <div class="series__filter AllPoster"> 
                            <a href="{{ path('app_series_show', {'id': serie.id}) }}">
                                <img src="{{ path('app_poster',{'id':serie.id }) }}">
                            </a>
                        </div>
                        <div class="allGenre btn-group d-flex flex-row justify-content-evenly flex-wrap ">
                            {% for genre in serie.genre %}
                                {% if loop.index <= 4 %}
                                    <p class="btn-outline-light btn btn-sm theGenre">{{ genre}}</p>    
                                {% endif %}   
                            {% endfor %}
                        </div>
                    </td>
                </div>
            {% endfor %}
        </div>
        {{ knp_pagination_render(series) }}
    {% endif %}
{% endblock %}
