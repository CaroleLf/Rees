{% extends 'base.html.twig' %}

{% block title %}Series index{% endblock %}

{% block stylesheets %}
    <link href="{{ asset('/css/allSeries.css') }}" type="text/css" rel="stylesheet">  
	<link rel="shortcut icon" href="img/logo.png" >
	<link href='https://css.gg/css' rel='stylesheet'>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

{% endblock %}

{% block body %}
    {{ parent() }}

    <form class="searchBar text-white d-flex flex-row align-items-center "  method="get" action="{{ path('app_series_search' ) }}">
        <div class="d-flex flex-column align-items-center">
            <label class="m-2 w-auto" >Genre : </label>
            <select class="form-control m-2  w-auto" data-mdb-filter="true" name="genres">
            <option value=""> -- Selection le genre -- </option>
                {% for genre in allGenre %} 
                    <option value="{{genre.name}}"> {{genre.name}}</option>
                {% endfor %}
            </select>
        </div>
        <div class="d-flex flex-column align-items-center">
            <label class="m-2 w-auto" >Année de début:</label>
            <select aria-label="Default select example" class="form-control w-auto  m-2 " data-mdb-filter="true" name="yearStart">
            <option value=""> -- Année de début -- </option>
                {% for i in 1969..2023 %}
                <option value="{{i}}"> {{i}}</option>
                    {% endfor %}
            </select>
        </div>
        <div class="d-flex flex-column align-items-center">
            <label class="m-2 w-auto" >Année de fin:</label>
            <select class="form-control  m-2   w-auto" data-mdb-filter="true" name="yearEnd">
                <option value=""> -- Année de fin-- </option>
                {% for i in 1974..2023 %}
                    <option value="{{i}}"> {{i}}</option>
                {% endfor %}
            </select>
        </div>    
        <div class="d-flex flex-column align-items-center">
            <label class="m-2">Mots clés : </label>
            <input class="form-control w-auto m-2" type="text" name="keywords"  placeholder="Mots clés">
        </div>
        <div class="d-flex flex-column align-items-end mt-4">
              <button type="submit" class="btn btn-primary mt-3 "> Recherche </button>
        </div>
      
    </form>
    </div>
        {{ include ('pagination.html.twig') }}  
        <div id="series" class="work_container container grid ">
        {% for serie in series %}
            <div class="d-flex flex-column">
                <td> 
                    <div class="series__filter AllPoster"> 
                        <a href="{{ path('app_series_show', {'id': serie.id}) }}">
                            <img src="{{ path('app_poster',{'id':serie.id }) }}">
                        </a>
                    </div>
                    <div class="allGenre btn-group d-flex flex-row justify-content-evenly flex-wrap ">
                            {% for genre in serie.genre %}
                                {% if loop.index <= 4 %}
                                    <p class="btn btn-outline-light btn-sm theGenre">{{ genre}}</p>    
                                {% endif %}
                            {% endfor %}
                    </div>
                </td>
            </div>
        {% endfor %}
        </div>
    {{ include ('pagination.html.twig') }}  
{% endblock %}
